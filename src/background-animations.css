/* 3D Background Animations - Enhanced Smoothness */

/* Base animated background class with performance optimization */
.animated-bg {
  position: relative;
  overflow: hidden;
  backface-visibility: hidden;
  perspective: 1000px;
}

.animated-bg::before,
.animated-bg::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 0;
  pointer-events: none;
  will-change: transform, opacity;
  backface-visibility: hidden;
}

.hero-bg::before {
  background: 
    radial-gradient(circle at 20% 20%, rgba(59, 130, 246, 0.4) 0%, transparent 30%),
    radial-gradient(circle at 80% 80%, rgba(139, 92, 246, 0.3) 0%, transparent 30%),
    radial-gradient(circle at 60% 40%, rgba(236, 72, 153, 0.2) 0%, transparent 30%);
  animation: heroFloat 10s cubic-bezier(0.25, 0.46, 0.45, 0.94) infinite;
  transform-style: preserve-3d;
  will-change: transform;
}

.hero-bg::after {
  background: 
    linear-gradient(45deg, transparent 40%, rgba(59, 130, 246, 0.1) 50%, transparent 60%),
    linear-gradient(-45deg, transparent 40%, rgba(139, 92, 246, 0.1) 50%, transparent 60%);
  animation: heroConnect 15s cubic-bezier(0.4, 0.0, 0.2, 1) infinite reverse;
  will-change: transform, opacity;
}

@keyframes heroFloat {
  0%, 100% { 
    transform: translate3d(0, 0, 0) rotateX(0deg) rotateY(0deg) scale(1); 
    opacity: 0.8;
  }
  25% { 
    transform: translate3d(30px, -25px, 15px) rotateX(3deg) rotateY(3deg) scale(1.02); 
    opacity: 0.9;
  }
  50% { 
    transform: translate3d(-15px, 15px, -8px) rotateX(-2deg) rotateY(-2deg) scale(0.98); 
    opacity: 0.7;
  }
  75% { 
    transform: translate3d(-25px, -15px, 20px) rotateX(4deg) rotateY(-4deg) scale(1.01); 
    opacity: 0.85;
  }
}

@keyframes heroConnect {
  0% { 
    transform: rotate(0deg) scale(1) translate3d(0, 0, 0); 
    opacity: 0.2; 
  }
  25% {
    transform: rotate(90deg) scale(1.05) translate3d(5px, -5px, 0);
    opacity: 0.4;
  }
  50% { 
    transform: rotate(180deg) scale(1.1) translate3d(0, 0, 0); 
    opacity: 0.6; 
  }
  75% {
    transform: rotate(270deg) scale(1.05) translate3d(-5px, 5px, 0);
    opacity: 0.4;
  }
  100% { 
    transform: rotate(360deg) scale(1) translate3d(0, 0, 0); 
    opacity: 0.2; 
  }
}

/* About - Gradient Orbs - Enhanced */
.about-bg::before {
  background: 
    radial-gradient(ellipse 350px 250px at 10% 20%, rgba(139, 92, 246, 0.35) 0%, transparent 65%),
    radial-gradient(ellipse 300px 350px at 90% 80%, rgba(236, 72, 153, 0.3) 0%, transparent 65%),
    radial-gradient(ellipse 250px 300px at 50% 50%, rgba(59, 130, 246, 0.25) 0%, transparent 75%);
  animation: aboutOrbs 18s cubic-bezier(0.23, 1, 0.32, 1) infinite;
  filter: blur(25px);
  transform-style: preserve-3d;
  will-change: transform, opacity;
}

.about-bg::after {
  background: 
    conic-gradient(from 0deg at 30% 30%, transparent, rgba(139, 92, 246, 0.15), transparent),
    conic-gradient(from 180deg at 70% 70%, transparent, rgba(236, 72, 153, 0.12), transparent);
  animation: aboutSpin 25s cubic-bezier(0.4, 0.0, 0.6, 1) infinite;
  will-change: transform;
}

@keyframes aboutOrbs {
  0%, 100% { 
    transform: translate3d(0, 0, 0) scale(1) rotateZ(0deg); 
    opacity: 0.4; 
  }
  20% {
    transform: translate3d(15px, -10px, 10px) scale(1.1) rotateZ(72deg);
    opacity: 0.5;
  }
  40% { 
    transform: translate3d(35px, -25px, 25px) scale(1.25) rotateZ(144deg); 
    opacity: 0.7; 
  }
  60% {
    transform: translate3d(-10px, 20px, 5px) scale(1.15) rotateZ(216deg);
    opacity: 0.6;
  }
  80% { 
    transform: translate3d(-25px, 35px, -15px) scale(0.9) rotateZ(288deg); 
    opacity: 0.5; 
  }
}

@keyframes aboutSpin {
  0% { 
    transform: rotate(0deg) scale(1) translate3d(0, 0, 0); 
  }
  25% {
    transform: rotate(90deg) scale(1.02) translate3d(2px, -2px, 0);
  }
  50% {
    transform: rotate(180deg) scale(1.05) translate3d(0, 0, 0);
  }
  75% {
    transform: rotate(270deg) scale(1.02) translate3d(-2px, 2px, 0);
  }
  100% { 
    transform: rotate(360deg) scale(1) translate3d(0, 0, 0); 
  }
}

/* Skills - Code Matrix - Enhanced */
.skills-bg::before {
  background: 
    repeating-linear-gradient(
      90deg,
      transparent,
      transparent 98px,
      rgba(0, 255, 65, 0.08) 100px,
      rgba(0, 255, 65, 0.08) 102px
    ),
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 98px,
      rgba(0, 255, 65, 0.06) 100px,
      rgba(0, 255, 65, 0.06) 102px
    );
  animation: skillsMatrix 12s cubic-bezier(0.25, 0.46, 0.45, 0.94) infinite;
  will-change: transform;
}

.skills-bg::after {
  background: 
    radial-gradient(circle at 20% 20%, rgba(0, 255, 65, 0.15) 0%, transparent 35%),
    radial-gradient(circle at 80% 80%, rgba(0, 255, 65, 0.12) 0%, transparent 30%),
    radial-gradient(circle at 50% 60%, rgba(0, 255, 65, 0.1) 0%, transparent 25%);
  animation: skillsPulse 10s cubic-bezier(0.4, 0.0, 0.2, 1) infinite;
  will-change: transform, opacity;
}

@keyframes skillsMatrix {
  0% { 
    transform: translate3d(-100px, -100px, 0) rotate(0deg); 
    opacity: 0.6;
  }
  25% {
    transform: translate3d(-50px, 50px, 0) rotate(1deg);
    opacity: 0.8;
  }
  50% {
    transform: translate3d(0px, 0px, 0) rotate(0deg);
    opacity: 1;
  }
  75% {
    transform: translate3d(50px, -50px, 0) rotate(-1deg);
    opacity: 0.8;
  }
  100% { 
    transform: translate3d(100px, 100px, 0) rotate(0deg); 
    opacity: 0.6;
  }
}

@keyframes skillsPulse {
  0%, 100% { 
    transform: scale(1) rotate(0deg) translate3d(0, 0, 0); 
    opacity: 0.3; 
  }
  25% {
    transform: scale(1.05) rotate(45deg) translate3d(5px, -5px, 0);
    opacity: 0.4;
  }
  50% { 
    transform: scale(1.15) rotate(90deg) translate3d(0, 0, 0); 
    opacity: 0.6; 
  }
  75% {
    transform: scale(1.05) rotate(135deg) translate3d(-5px, 5px, 0);
    opacity: 0.4;
  }
}

/* Projects - Geometric Shapes - Enhanced */
.projects-bg::before {
  background: 
    conic-gradient(from 45deg at 25% 25%, transparent 0deg, rgba(59, 130, 246, 0.2) 90deg, transparent 180deg),
    conic-gradient(from 225deg at 75% 75%, transparent 0deg, rgba(236, 72, 153, 0.17) 90deg, transparent 180deg),
    conic-gradient(from 135deg at 50% 10%, transparent 0deg, rgba(16, 185, 129, 0.15) 90deg, transparent 180deg);
  animation: projectsGeometry 22s cubic-bezier(0.23, 1, 0.32, 1) infinite;
  transform-style: preserve-3d;
  will-change: transform;
}

.projects-bg::after {
  background: 
    linear-gradient(45deg, transparent 25%, rgba(139, 92, 246, 0.12) 50%, transparent 75%),
    linear-gradient(-45deg, transparent 25%, rgba(59, 130, 246, 0.1) 50%, transparent 75%);
  animation: projectsShapes 16s cubic-bezier(0.4, 0.0, 0.2, 1) infinite alternate;
  will-change: transform;
}

@keyframes projectsGeometry {
  0% { 
    transform: rotate(0deg) scale(1) translate3d(0, 0, 0); 
    opacity: 0.7;
  }
  20% { 
    transform: rotate(72deg) scale(1.05) translate3d(8px, -8px, 3px); 
    opacity: 0.8;
  }
  40% { 
    transform: rotate(144deg) scale(1.12) translate3d(15px, -15px, 8px); 
    opacity: 0.9;
  }
  60% { 
    transform: rotate(216deg) scale(1.08) translate3d(-8px, 8px, -3px); 
    opacity: 0.85;
  }
  80% { 
    transform: rotate(288deg) scale(0.96) translate3d(-15px, 15px, -8px); 
    opacity: 0.75;
  }
  100% { 
    transform: rotate(360deg) scale(1) translate3d(0, 0, 0); 
    opacity: 0.7;
  }
}

@keyframes projectsShapes {
  0% { 
    transform: skew(0deg, 0deg) scale(1) translate3d(0, 0, 0); 
    opacity: 0.6;
  }
  25% {
    transform: skew(1deg, 0.5deg) scale(1.02) translate3d(3px, -2px, 0);
    opacity: 0.7;
  }
  50% {
    transform: skew(2deg, 1deg) scale(1.05) translate3d(5px, -3px, 0);
    opacity: 0.8;
  }
  75% {
    transform: skew(1.5deg, 0.8deg) scale(1.03) translate3d(3px, -2px, 0);
    opacity: 0.75;
  }
  100% { 
    transform: skew(3deg, 1.5deg) scale(1.08) translate3d(8px, -5px, 0); 
    opacity: 0.85;
  }
}

/* Contact - Wave Animation - Enhanced */
.contact-bg::before {
  background: 
    linear-gradient(45deg, 
      transparent 0%, 
      rgba(139, 92, 246, 0.2) 25%, 
      transparent 50%, 
      rgba(139, 92, 246, 0.15) 75%, 
      transparent 100%
    );
  animation: contactWave1 14s cubic-bezier(0.25, 0.46, 0.45, 0.94) infinite;
  transform-origin: center;
  will-change: transform, opacity;
}

.contact-bg::after {
  background: 
    linear-gradient(-45deg, 
      transparent 0%, 
      rgba(236, 72, 153, 0.17) 30%, 
      transparent 60%, 
      rgba(59, 130, 246, 0.12) 90%, 
      transparent 100%
    );
  animation: contactWave2 18s cubic-bezier(0.4, 0.0, 0.2, 1) infinite reverse;
  will-change: transform, opacity;
}

@keyframes contactWave1 {
  0%, 100% { 
    transform: translateX(-120%) rotate(0deg) scaleY(1) translate3d(0, 0, 0); 
    opacity: 0.3; 
  }
  25% {
    transform: translateX(-60%) rotate(45deg) scaleY(1.1) translate3d(10px, -5px, 0);
    opacity: 0.5;
  }
  50% { 
    transform: translateX(0%) rotate(90deg) scaleY(1.3) translate3d(0, 0, 0); 
    opacity: 0.7; 
  }
  75% {
    transform: translateX(60%) rotate(135deg) scaleY(1.1) translate3d(-10px, 5px, 0);
    opacity: 0.5;
  }
}

@keyframes contactWave2 {
  0%, 100% { 
    transform: translateX(120%) rotate(0deg) scaleX(1) translate3d(0, 0, 0); 
    opacity: 0.4; 
  }
  25% {
    transform: translateX(60%) rotate(-45deg) scaleX(1.15) translate3d(-8px, 4px, 0);
    opacity: 0.6;
  }
  50% { 
    transform: translateX(0%) rotate(-90deg) scaleX(1.4) translate3d(0, 0, 0); 
    opacity: 0.8; 
  }
  75% {
    transform: translateX(-60%) rotate(-135deg) scaleX(1.15) translate3d(8px, -4px, 0);
    opacity: 0.6;
  }
}

/* Footer - Subtle Particles - Enhanced */
.footer-bg::before {
  background: 
    radial-gradient(circle at 30% 20%, rgba(99, 102, 241, 0.25) 0%, transparent 45%),
    radial-gradient(circle at 70% 80%, rgba(139, 92, 246, 0.2) 0%, transparent 40%);
  animation: footerFloat 24s cubic-bezier(0.25, 0.46, 0.45, 0.94) infinite;
  will-change: transform, opacity;
}

@keyframes footerFloat {
  0%, 100% { 
    transform: translate3d(0, 0, 0) scale(1) rotate(0deg); 
    opacity: 0.3; 
  }
  25% {
    transform: translate3d(15px, -8px, 0) scale(1.05) rotate(2deg);
    opacity: 0.4;
  }
  50% { 
    transform: translate3d(25px, -12px, 0) scale(1.12) rotate(0deg); 
    opacity: 0.6; 
  }
  75% {
    transform: translate3d(15px, -8px, 0) scale(1.05) rotate(-2deg);
    opacity: 0.4;
  }
}

/* Performance optimizations */
@media (prefers-reduced-motion: reduce) {
  .animated-bg::before,
  .animated-bg::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    opacity: 0.2 !important;
  }
}
